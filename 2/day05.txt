remote access - VNC
 - Virtual Network Computing

 - GUI 환경의 원격 접속

 - VNC를 제공하는 프로그램을 이용하여 원격 접속
    > 각 운영체제 마다 여러 종류의 VNC 프로그램이 존재
      (수업에서는 tigervnc 프로그램 사용)

 - 정보
	패키지	: tigervnc-*
	데몬	: X
	방화벽	: port=5900+@/tcp	* 5900에 vnc에서 사용하는 display number를 더한 값이 port 번호가 된다
	설정파일	: X

 - vnc 관련 명령어
  1. vncserver
      > 세션 제어에 관련된 명령어

	vncserver		: client가 접속할 수 있도록 session 생성
				  session은 순차적으로 생성되며 vnc 접속 암호가 지정되어 있지 않으면 암호도 생성

	vncserver :<숫자>	: session 번호 지정하여 생성

	vncserver -list		: 현재 생성되어 있는 session 확인

	vncserver -kill :<숫자>	: 특정 session 종료

  2. vncviewer
      > vnc 접속에 사용하는 명령어

	vncviewer <접속할 IP>:<session>

  3. vncpasswd
      > vnc 접속에 사용하는 암호 지정

	vncpasswd		: 이후에 암호 입력



이 이후에는 실질적인 활용에 대한 정보를 서술합니다.

문제 내용 :
vnc를 사용하고싶습니다.


문제 해결:

yum -y install tigervnc-*
를 이용하여 tigervnc 를 다운받습니다.

vncserver
를 입력하면 다음과 같은 구문들이 나옵니다.
(*
[root@server /]# vncserver
xauth:  file /root/.Xauthority does not exist

New 'server:1 (root)' desktop is server:1

Starting applications specified in /root/.vnc/xstartup
Log file is /root/.vnc/server:1.log
)
이 중에서
'New 'server:1 (root)' desktop is server:1' 구문에서
'server:1' 이 구문의 뜻은, server 라는 이름의 단말기에서 세션번호가 '1'인 세션을 열었다는 뜻입니다.

아니면 아래와 같은 구문들이 나올수도 있습니다.
(*
[root@localhost itbank]# vncserver

You will require a password to access your desktops.

Password:
)
이러한 구문은 세션의 패스워드를 결정하는 곳입니다.
입력 한 후(안보이는 것이 정상입니다.)엔터를 치면 
(*
Verify:
)
이러한게 나오는데
이건 비밀번호를 재입력하는 곳입니다.
그리고 다시 입력한 후 엔터를 치면
(*
Would you like to enter a view-only password (y/n)? n
A view-only password is not used
xauth:  file /root/.Xauthority does not exist

New 'localhost.localdomain:1 (itbank)' desktop is localhost.localdomain:1

Creating default startup script /root/.vnc/xstartup
Creating default config /root/.vnc/config
Starting applications specified in /root/.vnc/xstartup
Log file is /root/.vnc/localhost.localdomain:1.log
)
이러한 구문이 나오며, 세션이 완성됩니다.

'localhost.localdomain:1' 이 구문을 들여다본다면 : 뒤에 1을 보면 세션 번호가 1임을 알 수있습니다.

방식이 어쨌든, 과정이 어쨌든 이렇게 세션을 만들고
세션 번호를 확인하는것이 가장 중요합니다.

이러한 과정을 통해 vnc 세션을 열었습니다.

vncserver
가 아니라

vncserver :50
이라고 입력하면, 세션 번호가 50인 상태로 생성된다.


vncviewer <접속할 IP>:<session>
기본적인 형식은 이렇습니다.

바로 위에 password를 따로 지정해준 상황에서, 세션을 제공하는 컴퓨터의 아이피 주소가 192.168.127.129 이라고 하는 상황을 가정하겠습니다.

vncviewer 192.168.127.129:1
라고 입력한 뒤에 password를 요구하는 창이 나오면, 입력해줍니다.

과정이 끝났습니다. 이 부분 이후에는 대표적인 디스플레이(display) 오류에 대해서 서술합니다.

(*
[root@localhost itbank]# vncviewer 192.168.127.129:1

TigerVNC Viewer 64-bit v1.8.0
Built on: 2020-11-16 16:46
Copyright (C) 1999-2017 TigerVNC Team and many others (see README.txt)
See http://www.tigervnc.org for information on TigerVNC.
Can't open display:
)
이러한 구문이 발생하면서 그저 끝납니다.
오류 구문은 대부분 'CLI only' 환경에서 발생합니다.
대표적으로는 putty를 이용하는중에 오류가 발생합니다.
이러한 경우에는 직접 vmware나 컴퓨터로 접속하여 GUI를 제공하는 환경에서 구동시켜야합니다.


vncserver -list
라고 입력하면
(*
[root@localhost itbank]# vncserver -list

TigerVNC server sessions:

X DISPLAY #     PROCESS ID
:1              3651
:50             4216
)
이렇게 나옵니다
프로세스 아이디(PROCESS ID)는
kill 3651같은 프로세스를 종료시키는 명령어에 사용됩니다.







